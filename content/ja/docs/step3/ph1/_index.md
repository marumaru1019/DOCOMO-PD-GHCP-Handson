---
title: ①情報収集
categories: [技術者向け]
tags: [Summary, RAG]
weight: 4
---

これまでの基本テクニックを組み合わせて使って、実際に業務で活用できるシナリオをいくつか試してみましょう。

膨大な情報の中から必要な情報を収集し整理することは、業務において重要なスキルです。ChatGPTをうまく活用することで、自然言語を使った情報収集を効率的に行うことができます。

次のプロンプトを入力します。

```text
2022年に公開された映画から、有名なものを3つ挙げてください。
映画の説明も1文で追加してください。
```

### :robot: 出力例

1. 「スパイダーマン: ノー・ウェイ・ホーム」 - ピーター・パーカーが自身のアイデンティティを守るために戦う、スリリングなスーパーヒーロー映画。  
2. 「007 ノー・タイム・トゥ・ダイ」 - ジェームズ・ボンドが新たな敵と対峙し、世界を救うために立ち上がる、スタイリッシュなスパイアクション映画。  
3. 「マトリックス レザレクションズ」 - ネオが再び現実世界とマトリックスの戦いに巻き込まれる、サイバーパンクなSFアクション映画。
  

---

では、次のプロンプトを試してみましょう。
違いは  <mark>2022年</mark> から <mark>2024年</mark> になっているところです。

```text
2024年に公開された映画から、有名なものを3つ挙げてください。    
映画の説明も1文で追加してください。
```

### :robot: 出力例

申し訳ありませんが、私は現在の年度までの情報しか持っていません。2024年に公開される映画についての情報はまだ公開されていない可能性があります。公開された情報がある場合は、それに基づいてお答えすることができます。

--- 

上記のように、Azure OpenAI サービスでは、もともと学習されているデータの範囲内での情報提供しかできません。そのため、最新の情報に関しては回答できない場合があります。
同様に、社内にしかない特許情報や機密情報に関する質問に対しては、もともとの学習データに含まれないため、ChatGPTは答えることができません。

### **RAG（Retrieval Augmented Generation）** <br>
 業務ナレッジ/設計書/技術文書/製品メンテナンス情報がPDF/PowerPoint/Excelファイルでばらばらに管理されている企業は多いのではないでしょうか？これらの中には非常に有用な情報であるにもかかわらず、社内で十分に有効活用されていない、また必要な情報にたどり着くまでに時間がかかり生産性の低下をおこしたりコミュニケーションコストの増大をおこしていることもあります。RAGは、検索拡張生成と呼ばれるChatGPT などの大規模言語モデル(LLM)にデータを提供する情報取得システムを追加する技術です。たとえば、社外に公開できない情報を検索エンジンに登録し、それをもとにChatGPTに回答させることができるようになります。

![](https://github.com/marumaru1019/github-image/assets/70362624/df43a0d7-1019-4eda-99d9-5bd23696e41f)

日本マイクロソフトでは、上記の図のような Azure AI Search と Azure OpenAI サービスを組み合わせた[RAG のサンプル](https://github.com/Azure-Samples/jp-azureopenai-samples/tree/main/5.internal-document-search)を公開しています。

こちらのサンプルでは、下記のような流れで独自データに対して回答ができるようになっています。
1. PDFファイルを Azure Blob Storage に保存
2. Azure AI Search のインデックスに登録
3. Azure OpenAI サービスでユーザーからの質問をもとに、Azure AI Search で検索するためのクエリを生成
4. Azure AI Search で検索し、Azure OpenAI サービスに結果を返却
5. Azure AI Search で取得した情報をもとに、Azure OpenAI サービスが回答を生成

![](https://github.com/marumaru1019/github-image/assets/70362624/89810d40-5169-4c89-81f8-b363138ab5cb)
また、より気軽に RAG を試したい方向けに、Azure OpenAI Studio 上から独自のデータソースを登録することができる機能も提供されています。チャットプレイグラウンドの、**設定**から**データを追加する**を選択し、任意のデータソースを追加することで、指定したデータソースを検索対象として ChatGPT を利用することができます。
詳細については、[Azure OpenAI On Your Data](https://learn.microsoft.com/ja-JP/azure/ai-services/openai/concepts/use-your-data?tabs=ai-search)をご覧ください。

